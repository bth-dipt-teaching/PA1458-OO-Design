% Created 2016-04-18 Mon 13:01
\documentclass[10pt,t,a4paper]{beamer}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{fixltx2e}
\usepackage{graphicx}
\usepackage{grffile}
\usepackage{longtable}
\usepackage{wrapfig}
\usepackage{rotating}
\usepackage[normalem]{ulem}
\usepackage{amsmath}
\usepackage{textcomp}
\usepackage{amssymb}
\usepackage{capt-of}
\usepackage{hyperref}
\usetheme{BTH_msv}
\author{Mikael Svahnberg\thanks{Mikael.Svahnberg@bth.se}}
\date{2016-04-06}
\title{Design Patterns}
\subtitle{\texttt{PA14[13]5}}
\hypersetup{
 pdfauthor={Mikael Svahnberg},
 pdftitle={Design Patterns},
 pdfkeywords={},
 pdfsubject={},
 pdfcreator={Emacs 25.1.50.1 (Org mode 8.3.4)}, 
 pdflang={English}}
\begin{document}

\maketitle

\section{Classroom}
\label{sec:orgheadline10}
\begin{frame}[label={sec:orgheadline1}]{Responsibility-Driven Design}
Responsibility for \alert{Doing}
\begin{itemize}
\item Doing something (e.g. a calculation)
\item Creating other objects
\item Initiating an action in another object
\item Controlling and coordinating other objects
\end{itemize}

Responsibility for \alert{Knowing}
\begin{itemize}
\item Knowing about private encapsulated data
\item Knowing about related objects
\item Knowing about things it can derive or calculate
\end{itemize}
\end{frame}
\begin{frame}[fragile,label={sec:orgheadline2}]{Example: GRASP Patterns}
 \vspace{-1cm}
\includegraphics[height=4cm]{FGRASPExample.png}

\begin{block}{Discuss}
\begin{itemize}
\item Who should calculate the cost of a \texttt{Booking}?
\item Who should be responsible for creating a \texttt{Ticket}?
\item Why should a \texttt{Passenger} not be aware of the \texttt{Flight}?
\item How should a \texttt{Passenger} interact with this system when booking a trip?
\item How would you implement first, business, and third class?
\end{itemize}
\end{block}
\end{frame}

\begin{frame}[label={sec:orgheadline3}]{Example: Design Patterns in Pacman}
A look at the game:

\begin{itemize}
\item The game consists of scenes (Main Menu, Actual Game, High-Score List)
\item Each scene consists of a number of [different] objects (graphical as well as audio)
\item Some objects need awareness of other objects
\item Some objects in each scene needs to deal with UI input
\end{itemize}
\end{frame}

\begin{frame}[fragile,label={sec:orgheadline4}]{Different Scenes}
 \begin{itemize}
\item Problem: The game consists of several scenes (Main Menu, Actual Game, High-Score List)
\item Design Pattern: Strategy
\item Involved Classes: Context, \texttt{<<abstract>> Strategy}, ConcreteStrategy*
\item Pacman: Game, \texttt{<<abstract>> BasicScene}, MenuScene, GameScene
\end{itemize}

\includegraphics[height=4cm]{FPM_Scenes.png}
\end{frame}

\begin{frame}[fragile,label={sec:orgheadline5}]{Creating Objects for different Scenes}
 \begin{itemize}
\item Problem: Set up all objects necessary for each Scene
\item Design Pattern: Builder
\item Involved classes: Director, \texttt{<<abstract>> Builder}, ConcreteBuilder*
\item Pacman: MenuScene/GameScene, \texttt{<<abstract>> WorldCreator}, GameCreator, MenuCreator
\end{itemize}
\vspace{1cm}
\begin{itemize}
\item Design Pattern: Factory Method
\item Involved classes: Creator (with \texttt{<<abstract>>FactoryMethod()}), ConcreteCreator (with instantiated FactoryMethod())*
\item Pacman: Scene (with \texttt{<<abstract>>createObjects()}), GameCreator (with instantiated createObjects()), \ldots
\end{itemize}
\end{frame}
\begin{frame}[fragile,label={sec:orgheadline6}]{Behaviour of Ghosts I}
 \begin{itemize}
\item Problem: Each ghost behaves in a different way.
\item Design Pattern: Strategy
\item Involved Classes: Context, \texttt{<<abstract>> Strategy}, ConcreteStrategy*
\item Pacman: Ghost, \texttt{<<abstract>> GhostMovementStrategy}, BlinkyStrategy, InkyStrategy, PinkyStrategy, ClydeStrategy
\end{itemize}
\end{frame}
\begin{frame}[label={sec:orgheadline7}]{Only one Audio/Graphics/World}
\begin{itemize}
\item Problem: Avoid creating more than one instance of AudioManagement, GraphicsManagement, World
\item Design Pattern: Singleton
\item Involved Classes: Singleton (with static getInstance(), private constructor)
\item \alert{Less Optional Alternative:} Coding Pattern: Only create stuff in one place, keep central repository with pointers to these objects.
\end{itemize}
\end{frame}
\begin{frame}[label={sec:orgheadline8}]{Redirecting Input}
\begin{itemize}
\item Problem: Different objects are interested in UI input
\item Design Pattern: Observer
\item Involved Classes: Observable, Observer
\item Pacman: InputManager, PacmanObject, MainMenuObject
\end{itemize}
\end{frame}
\begin{frame}[fragile,label={sec:orgheadline9}]{Behaviour of Ghosts II}
 \begin{itemize}
\item Problem: When pacman eats supercandy, the behaviour of the ghosts change
\item Design Pattern: State
\item Involved Classes: Context, \texttt{<<abstract>> State}, ConcreteState*
\item Pacman: Ghost, \texttt{<<abstract>> GhostState}, GhostNormalState (see above, GhostStrategy), GhostChasedState
\end{itemize}
\end{frame}
\end{document}